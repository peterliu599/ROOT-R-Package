% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/characterizing_underrep.R
\name{characterizing_underrep}
\alias{characterizing_underrep}
\title{Characterize under-represented subgroups (wrapper around ROOT)}
\usage{
characterizing_underrep(
  data,
  global_objective_fn = NULL,
  generalizability_path = FALSE,
  leaf_proba = 0.25,
  seed = 123,
  num_trees = 10,
  vote_threshold = 2/3,
  explore_proba = 0.05,
  feature_est = "Ridge",
  feature_est_args = list(),
  top_k_trees = FALSE,
  k = 10,
  cutoff = "baseline",
  verbose = FALSE
)
}
\arguments{
\item{data}{A \code{data.frame} containing covariates and, in generalizability_path
mode, also columns \code{Y}, \code{Tr}, and \code{S}.}

\item{global_objective_fn}{function with signature \verb{function(D) -> numeric}
scoring the entire state and minimized by ROOT. If NULL, a default
variance-based objective is used (see \code{objective_default()}).}

\item{generalizability_path}{Logical. If \code{TRUE}, calls
\code{ROOT()} with \code{generalizability_path = TRUE} and expects columns
\code{Y}, \code{Tr}, and \code{S} in \code{data}. If \code{FALSE}, calls
\code{ROOT()} in general optimization mode. Default \code{FALSE}.}

\item{leaf_proba}{A \code{numeric(1)} tuning parameter that increases the chance
a node stops splitting by selecting a synthetic \code{"leaf"} feature.
Internally, the probability of choosing \code{"leaf"} is
\code{leaf_proba / (1 + leaf_proba)} (assuming the
covariate probabilities sum to 1). Default \code{0.25}.}

\item{seed}{Random seed for reproducibility.}

\item{num_trees}{Number of trees to grow.}

\item{vote_threshold}{Majority vote threshold used for \code{w_opt}.}

\item{explore_proba}{Exploration probability in tree growth.}

\item{feature_est}{Either \code{"Ridge"}, \code{"GBM"}, or a custom
feature importance function.}

\item{feature_est_args}{List of extra arguments passed to \code{feature_est}
when it is a function.}

\item{top_k_trees}{Logical; if \code{TRUE}, uses top \code{k} trees by
objective, otherwise a cutoff rule.}

\item{k}{Number of trees when \code{top_k_trees = TRUE}.}

\item{cutoff}{Numeric or \code{"baseline"} Rashomon cutoff.}

\item{verbose}{Logical; if \code{TRUE}, prints progress/estimands from
\code{ROOT()}.}
}
\value{
A \code{characterizing_underrep} S3 object (a \code{list}) with:
\item{root}{The \code{ROOT} object returned by \code{ROOT()}.}
\item{combined}{The input \code{data} (for continuity with prior API).}
\item{leaf_summary}{Data frame of terminal node rules and labels, or \code{NULL}.}
}
\description{
A convenience wrapper around \code{ROOT()} for under-representation analyses.
It takes a single \code{data} set and calls \code{ROOT()} either in
generalizability_path mode (when \code{generalizability_path = TRUE}) or in
general optimization mode (\code{generalizability_path = FALSE}).
}
\details{
When \code{generalizability_path = TRUE}, \code{data} must contain
standardized columns:
\itemize{
\item \code{Y}: outcome,
\item \code{Tr}: treatment indicator (0/1),
\item \code{S}: sample indicator (1 = trial, 0 = target).
}
}
\examples{
\dontrun{
char.output = characterizing_underrep(diabetes_data,generalizability_path = TRUE, seed = 123)
}
}
\references{
Parikh H, Ross RK, Stuart E, Rudolph KE (2025).
"Who Are We Missing?: A Principled Approach to Characterizing the Underrepresented Population."
\emph{Journal of the American Statistical Association}.
doi:10.1080/01621459.2025.2495319
}
