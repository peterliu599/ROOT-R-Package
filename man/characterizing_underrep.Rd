% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/characterizing_underrep.R
\name{characterizing_underrep}
\alias{characterizing_underrep}
\title{Characterize under-represented subgroups (wraps ROOT)}
\usage{
characterizing_underrep(
  DataRCT,
  covariateColName_RCT,
  trtColName_RCT,
  outcomeColName_RCT,
  DataTarget,
  covariateColName_TargetData,
  leaf_proba = 0.25,
  seed = 123,
  num_trees = 10,
  vote_threshold = 2/3,
  explore_proba = 0.05,
  feature_est = "Ridge",
  feature_est_args = list(),
  top_k_trees = FALSE,
  k = 10,
  cutoff = "baseline",
  verbose = FALSE,
  global_objective_fn = objective_default,
  root_plot_tree = TRUE,
  root_plot_args = list(type = 2, extra = 109, under = TRUE, faclen = 0, tweak = 1.1,
    fallen.leaves = TRUE, box.palette = c("pink", "palegreen3"), shadow.col = c("gray"),
    branch.lty = 3, main = "Final Characterized Tree from Rashomon Set"),
  plot_underrep = TRUE,
  keep_threshold = 0.5,
  lX_threshold = NULL,
  plot_main = "Underrepresented Population Characterization Tree"
)
}
\arguments{
\item{DataRCT}{data.frame with trial data; must include \code{trtColName_RCT}, \code{outcomeColName_RCT}, and the covariates named in \code{covariateColName_RCT}.}

\item{covariateColName_RCT}{character vector of covariate column names in \code{DataRCT}.}

\item{trtColName_RCT}{single string: treatment column name in \code{DataRCT} (0/1).}

\item{outcomeColName_RCT}{single string: outcome column name in \code{DataRCT}.}

\item{DataTarget}{data.frame with target-population covariates (no treatment/outcome required).}

\item{covariateColName_TargetData}{character vector of covariate column names in \code{DataTarget}.}

\item{leaf_proba, seed, num_trees, vote_threshold, explore_proba, feature_est, feature_est_args, top_k_trees, k, cutoff, verbose}{Passed to \code{ROOT()}.}

\item{global_objective_fn}{Global objective/loss function for ROOT (default \code{objective_default}).}

\item{root_plot_tree}{Logical; pass-through to \code{ROOT(plot_tree=...)}.}

\item{root_plot_args}{Optional list passed to \code{ROOT(plot_tree_args=...)}.}

\item{plot_underrep}{Logical; if \code{TRUE}, draws an annotated represented/underrepresented tree.}

\item{keep_threshold, lX_threshold}{Kept for API compatibility (unused).}

\item{plot_main}{Title for the annotated plot.}
}
\value{
A \code{characterizing_underrep} object with
\item{root}{the fitted \code{ROOT} object}
\item{combined}{stacked RCT+Target data used for fitting}
\item{leaf_summary}{data.frame with terminal rules and sizes (if a summary tree exists)}
\item{tree_plot_root}{recorded plot of the ROOT summary tree (if produced)}
\item{tree_plot_underrep}{recorded plot of the annotated underrep tree (if produced)}
}
\description{
Combines an RCT (S=1) and a target dataset (S=0), calls \code{ROOT()} to learn
a binary selector \code{w(x)}, and (optionally) renders an annotated tree that
highlights represented (w=1) vs underrepresented (w=0) leaves.
}
